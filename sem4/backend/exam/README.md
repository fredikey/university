## Рубежный контроль (26.06.21)
### Задание
> Аутентификация, Идентификация, Авторизация: дать определения. На примере разработанного апи пояснить в какой момент происходит каждый из видов данных терминов. Привести примеры кодов ответов API и в каких случаях они могут проявиться.

### 1. Аутентификация, Идентификация, Авторизация: дать определения.
**Идентификация** — процедура, в результате выполнения которой для субъекта идентификации выявляется его идентификатор, однозначно определяющий этого субъекта в информационной системе.

**Аутентификация** — процедура проверки подлинности, например проверка подлинности пользователя путем сравнения введенного им пароля с паролем, сохраненным в базе данных.

**Авторизация** — предоставление определенному лицу или группе лиц прав на выполнение определенных действий.

### 2. На примере разработанного апи пояснить в какой момент происходит каждый из видов данных терминов.
Возьмем ручку создания продукта - `POST /api/v1/products`  

И на ее примере рассмотрим флоу каждого из этих процессов:
- **Аутентификация**  
 Для создания продукта, наш пользователь должен быть авторизован. Поэтому при отправке запроса я прикладываю хедер
`X-AUTH-TOKEN: 79526858649:q1w2e3`. В случае, если я его не прикреплю, апи ответит 401 кодом.
- **Авторизация**    
 Далее, когда пользователь прошел процесс аутентификации. Система проверит его роль на предмет доступа к экшену созданию продукта (В Symfony конфиг ролей можно удобно настроить в файлике _role_hierarchy.yaml_). В случае, если у роли пользователя недостаточно прав, апи ответит 403 кодом.
- **Идентификация**    
 Запрос на создание продукта прошел успешно и при добавлении продукта в базу данных, к обьекту продукта автоматически добавится идентификатор, однозначно определяющий этого субъекта в информационной системе.
  
### 3. Привести примеры кодов ответов API и в каких случаях они могут проявиться.
В контексте темы авторизации будут актуальны следующие коды ответов:
- **200: Ok**  
Когда все хорошо, пользователь авторизован (и у него есть права на выполнение какого-то действия) или аутентификация не требуется
- **401: Unauthorized**  
Пользователь не авторизован, скорее всего проблема с токеном: 1) Его не приложили к запросу 2) Он невалидный 3) У токена истек срок действия (expired) 
- **403: Forbidden**  
Пользователь авторизован, но у него нет прав на выполнение какого-то действия (К примеру, требуется роль админа)

### Источники
- [Лекция 7. Архитектура приложения. Авторизация.](https://docs.google.com/presentation/d/1hYR6gRUdNLR5mwCVerDNJG-kYipOs6lWLysCGH2h1_Q/edit#slide=id.p) 
- [Идентификация, аутентификация и авторизация — в чем разница?](https://www.kaspersky.ru/blog/identification-authentication-authorization-difference/29123/) 
